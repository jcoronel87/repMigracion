<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/templates/page-template_pf.xhtml">
        <ui:define name="title">
            <h:outputText value="Lista de Derechos Mineros"/>
        </ui:define>

        <ui:define name="content">
            <h:form id="form">
                <p:growl id="growl" showDetail="true" showSummary="true" life="8000" autoUpdate="true"/>
                <h:panelGrid columns="3">
                    <h:panelGrid columns="2">
                        <h:panelGrid columns="6" >
                            <p:outputLabel value="Código:"/>
                            <p:inputText value="#{derechosMinerosCtrl.codigo}"/>
                            <p:outputLabel value="Nombre área:"/>
                            <p:inputText value="#{derechosMinerosCtrl.nombreDerechoMinero}"/>
                            <p:outputLabel value="Regional:"/>
                            <p:selectOneMenu value="#{derechosMinerosCtrl.codigoRegional}">
                                <f:selectItem itemLabel="--Seleccione una opción--" itemValue=""/>
                                <f:selectItems value="#{selectItemCtrl.regionalesCodigoCatalogo}"/>
                            </p:selectOneMenu>
                            <p:outputLabel value="Provincia:"/>
                            <p:selectOneMenu value="#{derechosMinerosCtrl.codigoProvincia}">
                                <f:selectItem itemLabel="--Seleccione una opción--" itemValue=""/>
                                <f:selectItems value="#{derechosMinerosCtrl.provincias}"/>
                            </p:selectOneMenu>
                            <p:outputLabel value="Fase:"/>
                            <p:selectOneMenu value="#{derechosMinerosCtrl.codigoFase}">
                                <f:selectItem itemLabel="--Seleccione una opción--" itemValue=""/>
                                <f:selectItems value="#{selectItemCtrl.fasesCodigoCatalogo}"/>
                            </p:selectOneMenu>
                            <p:outputLabel value="Estado:"/>
                            <p:selectOneMenu value="#{derechosMinerosCtrl.codigoEstado}">
                                <f:selectItem itemLabel="--Seleccione una opción--" itemValue=""/>
                                <f:selectItems value="#{selectItemCtrl.estadosCodigoCatalogo19}"/>
                            </p:selectOneMenu>
                            <p:outputLabel value="Tipo solicitud:"/>
                            <p:selectOneMenu value="#{derechosMinerosCtrl.tipoSolicitudNemonico}">
                                <f:selectItem itemLabel="--Seleccione una opción--" itemValue=""/>
                                <f:selectItems value="#{selectItemCtrl.tipoMineriaNemonicoCatalogo}"/> 
                            </p:selectOneMenu>
                            <p:outputLabel value="Tipo persona:"/>
                            <p:selectOneMenu value="#{derechosMinerosCtrl.tipoPersona}">
                                <f:selectItem itemLabel="--Seleccione una opción--" itemValue=""/>
                                <f:selectItem itemLabel="Persona Natural" itemValue="PN"/>
                                <f:selectItem itemLabel="Persona Jurídica" itemValue="PJ"/>
                            </p:selectOneMenu>
                            <p:outputLabel value="Fecha:"/>
                            <p:calendar id="effect" value="#{derechosMinerosCtrl.fecha}" effect="fold" />
                        </h:panelGrid>
                        <h:commandButton actionListener="#{derechosMinerosCtrl.buscar}" 
                                         image="resources/images/busca.png" style="width: 50px; height: 50px;" 
                                         title="Buscar" />
                    </h:panelGrid>
                    <p:outputLabel value="&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
                                   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
                                   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
                                   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
                                   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
                                   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
                                   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
                                   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
                                   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;" style="width: 80%"/>
                    <h:panelGroup style="text-align: right; right: -93%;">
                        <h:commandLink action="index?faces-redirect=true" title="Inicio" styleClass="boton_salir" >
                            <h:panelGrid style="text-align:center">
                                <h:graphicImage value="resources/images/home.png" title="Inicio" style="width: 50px; height: 50px"/>
                                <h:outputText value="Inicio"/>
                            </h:panelGrid>
                        </h:commandLink>
                    </h:panelGroup>
                </h:panelGrid>

                <p:outputLabel value="No existen registros" rendered="#{!derechosMinerosCtrl.mostrarLista}"/>
                
                <h:panelGroup rendered="#{derechosMinerosCtrl.mostrarLista}">
                    <h1 class="titulo_centrado" >Lista de Derechos Mineros - Nacional</h1>
                </h:panelGroup>

                <p:dataTable id="amdt" var="reg" value="#{derechosMinerosCtrl.listaRegistros}" rows="20" 
                             paginator="true"
                             currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"
                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                             rowsPerPageTemplate="20,50,100" paginatorPosition="bottom" styleClass="texto_tabla_datos" rowIndexVar="rowIndex" emptyMessage="No existen registros"
                             style="width: 95%" rendered="#{derechosMinerosCtrl.mostrarLista}">

                    <p:column headerText="#" style="width: 25px">
                        <h:outputText value="#{rowIndex + 1}"/>
                    </p:column>

                    <p:column headerText="CODIGO" style="width: 85px; text-align: right">
                        <h:outputText  styleClass="texto_tabla_datos_codigo" value="#{reg.codigo}" />
                    </p:column>

                    <p:column headerText="NOMBRE AREA">
                        <h:outputText value="#{reg.nombreDerechoMinero}" />
                    </p:column>

                    <p:column headerText="REGIONAL">
                        <h:outputText value="#{reg.regional}" />
                    </p:column>

                    <p:column headerText="PROVINCIA">
                        <h:outputText value="#{reg.provincia}"/>
                    </p:column>

                    <p:column headerText="FASE" style="width: 100px; text-align: right">
                        <h:outputText value="#{reg.fase}" />
                    </p:column>

                    <p:column headerText="ESTADO" width="300">
                        <h:outputText value="#{reg.estado}" />
                    </p:column>

                    <p:column headerText="TIPO SOLICITUD" style="width: 85px">
                        <h:outputText value="#{reg.tipoSolicitud}" />
                    </p:column>

                    <p:column headerText="BENEFICIARIO PRINCIPAL" style="width: 85px">
                        <h:outputText value="#{reg.beneficiarioPrincipal}" />
                    </p:column>

                    <p:column headerText="TIPO PERSONA" style="width: 85px">
                        <h:outputText value="#{reg.tipoPersona}" />
                    </p:column>

                    <p:column headerText="FECHA">
                        <h:outputText value="#{reg.fechaSolicitud}" />
                    </p:column>

                    <p:column headerText="VER" style="width:37px; text-align: right">
                        <p:commandButton action="#{derechosMinerosCtrl.verDerechoMinero}" 
                                         icon="ui-button-icon-left ui-icon ui-c ui-icon-search" title="Ver" ajax="false"></p:commandButton>
                    </p:column>
                </p:dataTable>

            </h:form>
        </ui:define>
    </ui:composition>
</html>

